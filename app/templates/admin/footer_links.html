{% extends "layouts/base.html" %} {% block title %}Kelola Link Footer{% endblock
%} {% block content %}
<div class="container py-4">
  <h1 class="h5 mb-3">
    Footer Links â€”
    <span class="text-secondary">{{ section.id }} / {{ section.name }}</span>
  </h1>

  <!-- FORM TAMBAH LINK -->
  <form
    method="post"
    action="/admin/footer/{{ section.id }}/links/create"
    class="card mb-4 shadow-sm"
  >
    <div class="card-body">
      <div class="row g-3 align-items-start">
        <div class="col-md-2">
          <label class="form-label">Sort Order</label>
          <input
            type="number"
            name="sort_order"
            class="form-control"
            value="0"
          />
        </div>
        <div class="col-md-3">
          <label class="form-label">Status</label>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" name="is_active" id="create_is_active" checked>
            <label class="form-check-label" for="create_is_active">Tampilkan</label>
          </div>
        </div>
        <div class="col-12">
          <label class="form-label">Konten HTML</label>
          <textarea
            name="html_content"
            class="form-control"
            rows="3"
            placeholder='<a href="https://example.com" class="text-white">Contoh tautan</a>'
            required
          ></textarea>
          <small class="text-muted">Anda dapat memasukkan HTML penuh, termasuk ikon dan tautan eksternal.</small>
        </div>
      </div>
    </div>
    <div class="card-footer text-end">
      <button type="submit" class="btn btn-primary">Tambah Link</button>
      <a href="/admin/footer" class="btn btn-outline-secondary">Kembali</a>
    </div>
  </form>

  <!-- DAFTAR LINK -->
  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th style="width: 5%">#</th>
          <th style="width: 10%">Order</th>
          <th>Konten HTML</th>
          <th style="width: 10%">Status</th>
          <th style="width: 10%">Aksi</th>
        </tr>
      </thead>
      <tbody>
        {% for l in links %}
        <tr>
          <td>{{ loop.index }}</td>
          <td>{{ l.sort_order }}</td>
          <td>
            <div class="small border rounded p-2 bg-light-subtle">{{ l.html_content | safe }}</div>
          </td>

          <td>
            {% if l.is_active %}
            <span class="badge bg-success">Aktif</span>
            {% else %}
            <span class="badge bg-secondary">Nonaktif</span>
            {% endif %}
          </td>

          <td>
            <div class="btn-group">
              <a
                href="/admin/footer/{{ section.id }}/links/{{ l.id }}/edit"
                class="btn btn-sm btn-outline-primary"
                >Edit</a
              >
              <a
                href="/admin/footer/{{ section.id }}/links/{{ l.id }}/delete"
                class="btn btn-sm btn-outline-danger"
                onclick="return confirm('Hapus link ini?')"
                >Hapus</a
              >
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
