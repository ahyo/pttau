{% extends "layouts/base.html" %} {% block title %}Kelola Link Footer{% endblock
%} {% block content %}
<div class="container py-4">
  <div class="card border-0 shadow-sm mb-4">
    <div class="card-body d-flex justify-content-between align-items-start">
      <div>
        <div class="text-uppercase text-muted small fw-semibold mb-1">Footer Links</div>
        <h1 class="h4 mb-1">{{ section.name }}</h1>
        <p class="text-muted small mb-0">Kelola konten HTML untuk link di section ini.</p>
      </div>
      <div class="d-flex gap-2">
        <a href="/admin/footer" class="btn btn-outline-secondary">
          <i class="bi bi-arrow-left"></i> Kembali
        </a>
        <a href="/admin/footer/{{ section.id }}/links" class="btn btn-outline-primary">
          <i class="bi bi-arrow-clockwise"></i> Refresh
        </a>
      </div>
    </div>
  </div>

  <!-- FORM TAMBAH LINK -->
  <form
    method="post"
    action="/admin/footer/{{ section.id }}/links/create"
    class="card border-0 shadow-sm mb-4"
  >
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h6 mb-0">Tambah Link</h2>
        <span class="badge bg-light text-dark">Realtime preview</span>
      </div>
      <div class="row g-3 align-items-start">
        <div class="col-md-2">
          <label class="form-label small text-muted">Sort Order</label>
          <input
            type="number"
            name="sort_order"
            class="form-control"
            value="0"
          />
        </div>
        <div class="col-md-3">
          <label class="form-label small text-muted">Status</label>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" name="is_active" id="create_is_active" checked>
            <label class="form-check-label" for="create_is_active">Tampilkan</label>
          </div>
        </div>
        <div class="col-12">
          <label class="form-label">Konten HTML</label>
          <textarea
            name="html_content"
            class="form-control"
            rows="3"
            placeholder='<a href="https://example.com" class="text-white">Contoh tautan</a>'
            required
          ></textarea>
          <small class="text-muted">Boleh menyertakan ikon, tautan eksternal, atau teks pendek.</small>
        </div>
      </div>
    </div>
    <div class="card-footer text-end">
      <div class="d-flex gap-2 justify-content-end">
        <a href="/admin/footer" class="btn btn-outline-secondary">Batal</a>
        <button type="submit" class="btn btn-primary">Tambah Link</button>
      </div>
    </div>
  </form>

  <!-- DAFTAR LINK -->
  <div class="card border-0 shadow-sm">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h6 mb-0">Daftar Link</h2>
        <span class="badge bg-light text-dark">Total: {{ links|length }}</span>
      </div>
      <div class="table-responsive">
        <table class="table align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th style="width: 5%">#</th>
              <th style="width: 10%">Order</th>
              <th>Konten HTML</th>
              <th style="width: 12%">Status</th>
              <th style="width: 14%">Aksi</th>
            </tr>
          </thead>
          <tbody>
            {% for l in links %}
            <tr>
              <td>{{ loop.index }}</td>
              <td>{{ l.sort_order }}</td>
              <td>
                <div class="small border rounded p-2 bg-light-subtle">{{ l.html_content | safe }}</div>
              </td>

              <td>
                {% if l.is_active %}
                <span class="badge bg-success">Aktif</span>
                {% else %}
                <span class="badge bg-secondary">Nonaktif</span>
                {% endif %}
              </td>

              <td>
                <div class="btn-group">
                  <a
                    href="/admin/footer/{{ section.id }}/links/{{ l.id }}/edit"
                    class="btn btn-sm btn-outline-primary"
                    >Edit</a
                  >
                  <a
                    href="/admin/footer/{{ section.id }}/links/{{ l.id }}/delete"
                    class="btn btn-sm btn-outline-danger"
                    onclick="return confirm('Hapus link ini?')"
                    >Hapus</a
                  >
                </div>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
