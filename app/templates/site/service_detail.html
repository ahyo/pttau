{% extends "layouts/base.html" %}
{% set title = localized_attr(service, lang, 'title') or service.slug or 'Layanan' %}
{% set desc = localized_attr(service, lang, 'description') or '' %}
{% set body = localized_attr(service, lang, 'content') or '' %}
{% block title %}{{ title ~ ' â€” ' ~ settings.APP_NAME }}{% endblock %}
{% block meta_desc %}{{ desc or '' }}{% endblock %}
{% block content %}
<section class="py-5 bg-dark text-white" style="background: linear-gradient(135deg, #0f172a, #1e3a8a);">
  <div class="container py-4">
    <div class="row align-items-center g-4">
      <div class="col-lg-7" data-aos="fade-right">
        <nav aria-label="breadcrumb" class="mb-3">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a class="text-white-50 text-decoration-none" href="/">Home</a></li>
            <li class="breadcrumb-item"><a class="text-white-50 text-decoration-none" href="/layanan">Layanan</a></li>
            <li class="breadcrumb-item text-white active" aria-current="page">{{ title }}</li>
          </ol>
        </nav>
        <h1 class="display-5 fw-bold mb-3">{{ title }}</h1>
        {% if desc %}
        <p class="lead text-white-50 mb-0">{{ desc }}</p>
        {% endif %}
      </div>
      <div class="col-lg-5" data-aos="fade-left">
        <div class="card border-0 shadow-lg bg-white text-dark">
          <div class="card-body p-4">
            <div class="d-flex align-items-center gap-3">
              <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center" style="width:56px; height:56px;">
                <i class="bi bi-tools fs-4"></i>
              </div>
              <div>
                <div class="fw-semibold">Konsultasi & Pendampingan</div>
                <p class="text-muted small mb-0">Hubungi tim kami untuk mendiskusikan implementasi layanan ini.</p>
              </div>
            </div>
            <div class="mt-3 d-flex gap-2">
              <a class="btn btn-primary" href="/contact">Hubungi Kami</a>
              <a class="btn btn-outline-primary" href="/layanan">Lihat Layanan Lain</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-5">
  <div class="container">
    <div class="row g-4">
      <div class="col-lg-8">
        {% if service.image_url %}
        <div class="ratio ratio-16x9 mb-4 rounded overflow-hidden shadow-sm">
          <img src="{{ service.image_url }}" class="w-100 h-100 object-fit-cover" alt="{{ title }}">
        </div>
        {% endif %}
        <article class="content">
          {{ body | safe }}
        </article>
      </div>
      <div class="col-lg-4">
        {% if services %}
        <div class="card border-0 shadow-sm">
          <div class="card-header bg-white fw-semibold">Layanan lain</div>
          <div class="list-group list-group-flush">
            {% for item in services %}
            {% set other_title = localized_attr(item, lang, 'title') or item.slug %}
            {% set other_desc = localized_attr(item, lang, 'description') or '' %}
            <a href="/layanan/{{ item.slug }}" class="list-group-item list-group-item-action d-flex gap-3 align-items-start">
              {% if item.image_url %}
              <div class="ratio ratio-1x1 rounded overflow-hidden" style="width:56px;">
                <img src="{{ item.image_url }}" class="w-100 h-100 object-fit-cover" alt="{{ other_title }}">
              </div>
              {% else %}
              <div class="bg-primary bg-opacity-10 text-primary rounded d-flex align-items-center justify-content-center" style="width:56px; height:56px;">
                <i class="bi bi-box-seam"></i>
              </div>
              {% endif %}
              <div class="flex-grow-1">
                <div class="fw-semibold">{{ other_title }}</div>
                {% if other_desc %}
                <div class="text-muted small">{{ other_desc }}</div>
                {% endif %}
              </div>
              <i class="bi bi-arrow-right-short text-primary"></i>
            </a>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>
{% endblock %}
